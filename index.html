<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Tanushree ðŸ’–</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

<link href="https://fonts.googleapis.com/css2?family=Sacramento&family=Playfair+Display:ital,wght@1,600&family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
:root{
  --pink:#ff3366;
}

body{
  margin:0;
  height:100vh;
  font-family:'Poppins',sans-serif;
  background:radial-gradient(circle at top,#ffe1e6,#ffd6df);
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  color:#5a1a2c;
}

/* ðŸŒ¹ Canvas petals */
#petalCanvas{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:0;
}

/* ðŸ’– Card */
.container{
  position:relative;
  z-index:2;
  background:rgba(255,255,255,0.7);
  padding:32px 26px;
  border-radius:28px;
  backdrop-filter:blur(10px);
  box-shadow:0 25px 50px rgba(0,0,0,.2);
  max-width:420px;
  width:90%;
  text-align:center;
}

/* Heading */
h1{
  font-family:'Playfair Display',serif;
  font-size:clamp(2rem,6vw,2.5rem);
  line-height:1.35;
  margin-bottom:22px;
  color:#6b1f3a;
  text-shadow:0 1px 6px rgba(0,0,0,.15);
  animation:heartbeat 3.8s infinite;
}

@keyframes heartbeat{
  0%,100%{transform:scale(1)}
  45%{transform:scale(1.05)}
}

/* Buttons */
.buttons-area{
  position:relative;
  width:100%;
  height:42vh;
  max-height:240px;
  margin-top:22px;
}

button{
  padding:16px 36px;
  font-size:1.1rem;
  border:none;
  border-radius:999px;
  cursor:pointer;
  position:absolute;
  white-space:nowrap;
}

#yes{
  background:linear-gradient(45deg,#ff3366,#ff7eb3);
  color:#fff;
  box-shadow:0 0 30px rgba(255,51,102,.7);
  left:12%;
  top:50%;
  transform:translateY(-50%);
  z-index:3;
}

#no{
  background:#fff;
  color:#7a2740;
  left:58%;
  top:50%;
  transform:translateY(-50%);
  transition:left .12s ease, top .12s ease;
  z-index:2;
}

/* Love letter */
.love-letter{
  font-family:'Sacramento',cursive;
  font-size:1.7rem;
  line-height:1.55;
  margin-top:20px;
  white-space:pre-line;
  color:#5a1a2c;
}

/* Sparkles */
.sparkle{
  position:fixed;
  pointer-events:none;
  font-size:12px;
  z-index:5;
  animation:sparkleFade 1s ease-out forwards;
}

@keyframes sparkleFade{
  from{opacity:1;transform:scale(1)}
  to{opacity:0;transform:scale(2)}
}
</style>
</head>

<body>

<canvas id="petalCanvas"></canvas>

<div class="container" id="card">
  <h1>
    Tanushree ðŸŒ¸<br>
    Will you be my Valentine? ðŸ’–
  </h1>

  <div class="buttons-area" id="area">
    <button id="yes">YES ðŸ’˜</button>
    <button id="no">NO ðŸ™ˆ</button>
  </div>
</div>

<script>
/* ===============================
   ðŸƒ SMART NO BUTTON
================================ */
const noBtn  = document.getElementById("no");
const yesBtn = document.getElementById("yes");
const area   = document.getElementById("area");

const SAFE_DISTANCE_CURSOR = 100; // px
const SAFE_DISTANCE_TRIGGER = 80;
const MAX_TRIES = 30;

let mouseX = -999;
let mouseY = -999;

document.addEventListener("mousemove", e=>{
  mouseX = e.clientX;
  mouseY = e.clientY;
});

function intersects(r1, r2){
  return !(
    r1.right < r2.left ||
    r1.left  > r2.right ||
    r1.bottom < r2.top ||
    r1.top > r2.bottom
  );
}

function farFromCursor(x, y, rect){
  const cx = x + rect.width / 2;
  const cy = y + rect.height / 2;
  return Math.hypot(cx - mouseX, cy - mouseY) > SAFE_DISTANCE_CURSOR;
}

function moveNo(){
  const areaRect = area.getBoundingClientRect();
  const noRect   = noBtn.getBoundingClientRect();
  const yesRect  = yesBtn.getBoundingClientRect();

  for(let i=0;i<MAX_TRIES;i++){
    const x = Math.random() * (areaRect.width - noRect.width);
    const y = Math.random() * (areaRect.height - noRect.height);

    if(!farFromCursor(x + areaRect.left, y + areaRect.top, noRect)) continue;

    noBtn.style.left = x + "px";
    noBtn.style.top  = y + "px";

    const newNoRect = noBtn.getBoundingClientRect();
    if(!intersects(newNoRect, yesRect)) return;
  }
}

/* Trigger escape BEFORE reach */
document.addEventListener("mousemove", e=>{
  const r = noBtn.getBoundingClientRect();
  const cx = r.left + r.width/2;
  const cy = r.top  + r.height/2;
  const d  = Math.hypot(e.clientX - cx, e.clientY - cy);
  if(d < SAFE_DISTANCE_TRIGGER) moveNo();
});

area.addEventListener("touchstart", moveNo);

/* ===============================
   ðŸ’– YES CLICK
================================ */
yesBtn.onclick = ()=>{
  navigator.vibrate?.([120,80,120]);

  document.getElementById("card").innerHTML = `
    <h1>Yaaay! ðŸ¥°ðŸ’–</h1>
    <div class="love-letter" id="letter"></div>
  `;

  const text = `Tanushree,

From this moment,
every heartbeat of mine
knows where it belongs.

Thank you for choosing love,
for choosing us,
and for making life
so beautifully magical. ðŸŒ¸ðŸ’–`;

  let i=0,l=document.getElementById("letter");
  const t=setInterval(()=>{
    l.textContent+=text[i++];
    if(i>=text.length) clearInterval(t);
  },55);
};

/* ===============================
   ðŸŒ¹ IMAGE PETALS
================================ */
const canvas = document.getElementById("petalCanvas");
const ctx = canvas.getContext("2d");
const petalImg = new Image();
petalImg.src = "https://i.ibb.co/V3JPm3D/rose.png";

let petals = [];
const PETAL_COUNT = 40;

function resize(){
  canvas.width = innerWidth;
  canvas.height = innerHeight;
}
addEventListener("resize", resize);
resize();

class Petal{
  constructor(){ this.reset(); }
  reset(){
    this.x = Math.random()*canvas.width;
    this.y = Math.random()*-canvas.height;
    this.size = Math.random()*20 + 18;
    this.speedY = Math.random()*1.2 + 0.6;
    this.swing  = Math.random()*Math.PI*2;
    this.spin   = Math.random()*0.02 - 0.01;
    this.rot    = Math.random()*Math.PI*2;
  }
  update(){
    this.swing += 0.02;
    this.y += this.speedY;
    this.x += Math.sin(this.swing) * 0.8;
    this.rot += this.spin;
    if(this.y > canvas.height + 40) this.reset();
  }
  draw(){
    ctx.save();
    ctx.translate(this.x,this.y);
    ctx.rotate(this.rot);
    ctx.globalAlpha = 0.9;
    ctx.drawImage(petalImg,-this.size/2,-this.size/2,this.size,this.size);
    ctx.restore();
  }
}

petalImg.onload = ()=>{
  for(let i=0;i<PETAL_COUNT;i++) petals.push(new Petal());
  requestAnimationFrame(loop);
};

function loop(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  petals.forEach(p=>{p.update();p.draw();});
  requestAnimationFrame(loop);
}

/* ===============================
   âœ¨ CURSOR SPARKLES
================================ */
function sparkle(x,y){
  const s=document.createElement("div");
  s.className="sparkle";
  s.textContent="âœ¨";
  s.style.left=x+"px";
  s.style.top=y+"px";
  document.body.appendChild(s);
  setTimeout(()=>s.remove(),1000);
}

document.addEventListener("mousemove",e=>{
  sparkle(e.clientX,e.clientY);
});
document.addEventListener("touchstart",e=>{
  sparkle(e.touches[0].clientX,e.touches[0].clientY);
});
</script>

</body>
</html>
